---
title: 海量之道
date: 2020-10-18 10:04:13
categories:
- 方法论
---

# 1 自动化部署
# 2 分布式部署
避免单点，容灾：分机房部署，分地域部署
提升性能：用户就近访问
# 3 立体监控
对系统和业务的全面把控
# 4 set模型
按set灰度
提供动态伸缩能力，适应业务增长
# 5 负载均衡
资源充分利用，以防单点压力过大
# 6 过载保护与性能优化
过载防雪崩：
* 服务可平行扩展
* 页面静态化
* 数据Cache化
* 请求设置超时，超时丢弃，及时拒绝
* 服务增加频率限制
* 读写分离/快慢分离/轻重分离/功能分离/用户分离/部署分离
* 前端保护，后端校验
# 7 灰度发布
按set灰度/按用户灰度/按业务灰度/按优先级灰度
# 8 安全可控
# 9 柔性可用，有损服务
优先保证核心业务
# 10 系统容灾
BCP(Business Continuity Planning):灾难时业务可持续；
DRP(Disaster Recovery Planning):灾难后业务可恢复;
基本原则：业务无单点
* 跨机房部署
* 跨地域部署
* 业务无状态
* 切换配置化
* 请求可重入，幂等
* 数据的热备，冷备
# 11 先扛住再优化
扩进程，扩机器，系统可以平稳过度到问题彻底解决修复
